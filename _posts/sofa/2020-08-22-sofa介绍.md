---
layout: post
title: sofa介绍
category: sofa
tags: sofa
---

## sofa stack

## sofaboot
官网上的说明，相比springboot，增加的功能如下，还没看代码和使用，一些疑问：

> - 扩展 Spring Boot 健康检查的能力：在 Spring Boot 健康检查能力基础上，提供了 Readiness Check 的能力，保证应用实例安全上线。

这个检查确实spring boot中没有相关的功能，spirng中如何控制bean的加载顺序？即使spring 能控制类的加载顺序，但是“bean加载完成”并不代表“程序初始化完成”。是否初始化完成，需要业务上自己判断。  

所以，这功能需要业务侧实现一些接口？

> - 提供模块化开发的能力：基于 Spring 上下文隔离提供模块化开发能力，每个 SOFABoot 模块使用独立的 Spring 上下文，避免不同 SOFABoot 模块间的 BeanId 冲突。

都不同的spirng的上下文了，为什么不拆分微服务？虽然上下文不是拆分微服务的根据，但是即使有这个能力，感觉也会奇怪，在同一个程序中，有多个BeanId相同的实例。

> - 增加模块并行加载和 Spring Bean 异步初始化能力，加速应用启动；

主要是解决什么场景下的问题？如果是server端，其实对启动时间并不敏感。微服务化后，启动都不会慢

> - 增加日志空间隔离的能力：中间件框架自动发现应用的日志实现依赖并独立打印日志，避免中间件和应用日志实现绑定，通过 sofa-common-tools 实现。

不是很明白解决的问题场景。日志实现不一般通过SL4J进行解耦么。

>- 增加类隔离的能力：基于 SOFAArk 框架提供类隔离能力，方便使用者解决各种类冲突问题。

确实很有这种冲突的场景，隔离的时候，是不是也需要分开模块？不同的模块有不同的application classloder？

> - 增加中间件集成管理的能力：统一管控、提供中间件统一易用的编程接口、每一个 SOFA 中间件都是独立可插拔的组件。

每个中间件可能完成的功能差别很大，比如打点的和rpc的，接口应该很难统一？

> - 提供完全兼容 Spring Boot的能力：SOFABoot 基于 Spring Boot 的基础上进行构建，并且完全兼容 Spring Boot。

如何在Spring Boot的基础上构建？Spring Boot本身提供了很多可以扩展的地方，比如postProcessor、自定义的各种实现类，是强入侵的么？（应该不是，如果是Spring Boot升级版本就比较麻烦）如果不是对Spring boot的强入侵，那么是不是更像对Spirng Boot的扩展？
## 参考
[SOFABoot 介绍
](https://www.sofastack.tech/projects/sofa-boot/overview/)






